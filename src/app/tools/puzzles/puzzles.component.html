<div class="container puzzle-container">
    <div class="search-form" style="margin-bottom: 15px;">
        <h2 *ngIf="!trainingMode;else trainingModeTitle">Search Puzzles</h2>
        <ng-template #trainingModeTitle>
          <h2>Search Puzzles (Training Mode)</h2>
        </ng-template>
        <div class="row">
            <div class="col-sm-12 col-md-9">
                <div class="row">
                    <div class="col-md-4 col-sm-12">
                        <mat-form-field class="form-field" appearance="fill"  style="width: 98%; margin: 0 auto; display: block;">
                            <mat-label>Opening</mat-label>
                            <input matInput type="text" [(ngModel)]="opening">
                        </mat-form-field>
                    </div>
                    <div class="col-md-4  col-sm-12">
                        <mat-form-field class="form-field" appearance="fill"  style="width: 98%; margin: 0 auto; display: block;">
                            <mat-label>Theme</mat-label>
                            <input matInput type="text" [(ngModel)]="theme">
                        </mat-form-field>
                    </div>
                    <div class="col-md-4 col-sm-12">
                        <div class="row">
                            <div class="col-2">
                                <mat-checkbox class="example-margin" [(ngModel)]="pawnChecked"><img src="/assets/pieces/alpha/wP.svg" style="width: 32px;" alt="Pawn"></mat-checkbox>
                            </div>
                            <div class="col-2">
                                <mat-checkbox class="example-margin" [(ngModel)]="rookChecked"><img src="/assets/pieces/alpha/wR.svg" style="width: 32px;" alt="Rook"></mat-checkbox>

                            </div>
                            <div class="col-2">
                                <mat-checkbox class="example-margin" [(ngModel)]="knightChecked"><img src="/assets/pieces/alpha/wN.svg" style="width: 32px;" alt="Knight"></mat-checkbox>

                            </div>
                            <div class="col-2">
                                <mat-checkbox class="example-margin" [(ngModel)]="bishopChecked"><img src="/assets/pieces/alpha/wB.svg" style="width: 32px;" alt="Bishop"></mat-checkbox>

                            </div>
                            <div class="col-2">
                                <mat-checkbox class="example-margin" [(ngModel)]="queenChecked"><img src="/assets/pieces/alpha/wQ.svg" style="width: 32px;" alt="Queen"></mat-checkbox>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-9">
                        <mat-slider
                        class="rating-slider"
                        thumbLabel
                        step="100"
                        min="500"
                        max="3000"
                        [(ngModel)]="rating"
                        aria-label="units"></mat-slider>
                    </div>
                    <div class="col-3">
                        Range : {{rating-100}} - {{rating+100}}
                    </div>

                </div>
            </div>

            <div class="col-md-3  col-sm-12">
                <div class="small-button pop" (click)="search()">
                    Search
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="!noMore; else noMorePuzzle">
        <div class="puzzle-wrapper" *ngIf="currentPuzzle; else loadingPuzzle">
            <app-puzzle [puzzle]="currentPuzzle" (onCompleteWithAttempt)="onComplete($event)"></app-puzzle>
        </div>
        <ng-template #loadingPuzzle>
            <app-loader></app-loader>
        </ng-template>
    </div>
    <ng-template #noMorePuzzle>
        <div class="container">
            <div class="row" style="max-width: 150px; margin:  10px auto; margin-bottom: 50px;">
                <img src="/assets/images/completed.png" style="max-width: 150px" alt="puzzles-completed" />
            </div>
            <div style="text-align: center;">
                All Puzzles are completed. Search again for more
            </div>
        </div>
    </ng-template>

    <div class="chess-puzzle-article" style="margin-top: 50px;">
        <app-page-section pageSlug="chess-puzzles"></app-page-section>
    </div>
</div>
